{"pageProps":{"article":{"title":"Jouranl 2022-07-05","description":null,"tags":["journal"],"date":"2022-07-05","draft":false,"language":"en","content":[{"Start":{"Heading":["H1",null,[]]}},{"Text":"Journal 2022-07-05"},{"End":{"Heading":["H1",null,[]]}},{"Html":"<!-- Morning -->\n"},{"Start":{"Heading":["H2",null,[]]}},{"Text":"SQL"},{"End":{"Heading":["H2",null,[]]}},{"Start":{"List":null}},{"Start":"Item"},{"Text":"There can be problems if you use the same index for a unique constraint and"},"SoftBreak",{"Text":"foreign key on a column."},{"End":"Item"},{"Start":"Item"},{"Text":"To remove the index you need to:"},{"Start":{"List":1}},{"Start":"Item"},{"Text":"Remove the foreign key: "},{"Code":"ALTER TABLE \\"},{"Text":"contact_person"},{"Text":"`"},{"Text":" DROP FOREIGN KEY"},"SoftBreak",{"Text":"`"},{"Text":"contact_person_ibfk_1"},{"Text":"`"},{"Text":";"},{"Text":"`"},{"End":"Item"},{"Start":"Item"},{"Text":"Remove the unique index: "},{"Code":"ALTER TABLE \\"},{"Text":"contact_person"},{"Text":"`"},{"Text":" DROP INDEX"},"SoftBreak",{"Text":"`"},{"Text":"contact_id"},{"Text":"`"},{"Text":";"},{"Text":"`"},{"End":"Item"},{"Start":"Item"},{"Text":"Re-add the foreign key: "},{"Code":"ALTER TABLE \\"},{"Text":"contact_person"},{"Text":"`"},{"Text":" ADD CONSTRAINT"},"SoftBreak",{"Text":"`"},{"Text":"contact_person_ibfk_1"},{"Text":"`"},{"Text":" FOREIGN KEY "},{"Text":"`"},{"Text":"contact_id"},{"Text":"`"},{"Text":"("},{"Text":"`"},{"Text":"contact_id"},{"Text":"`"},{"Text":")"},"SoftBreak",{"Text":"REFERENCES "},{"Text":"`"},{"Text":"contact"},{"Text":"`"},{"Text":"("},{"Text":"`"},{"Text":"contact_id"},{"Text":"`"},{"Text":")"},{"Text":"`"},{"End":"Item"},{"End":{"List":1}},{"End":"Item"},{"End":{"List":null}},{"Html":"<!-- What do I want to do today? -->\n"},{"Html":"<!-- Evening -->\n"},{"Html":"<!-- What did I learn today? -->\n"},{"Html":"<!-- Things I learned -->\n"},{"Html":"<!-- Useful tools and libraries -->\n"}]}},"__N_SSG":true}