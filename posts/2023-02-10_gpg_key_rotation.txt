0:[[["",{"children":["posts",{"children":[["path","2023-02-10_gpg_key_rotation","d"],{"children":["__PAGE__?{\"path\":\"2023-02-10_gpg_key_rotation\"}",{}]}]}]},"$undefined","$undefined",true],"$L1","$L2"]]
2:[[["$","meta",null,{"charSet":"utf-8"}],["$","title",null,{"children":"/dev/blog - /dev/blog - GPG Key Rotation"}],["$","meta",null,{"name":"description","content":"Steps to safely rotate your GPG key and smartcard"}],["$","meta",null,{"name":"application-name","content":"/dev/blog"}],null,null,["$","meta",null,{"name":"generator","content":"Next.js"}],["$","meta",null,{"name":"keywords","content":"Dev,Blog,Programmings"}],["$","meta",null,{"name":"referrer","content":"origin-when-cross-origin"}],[["$","meta",null,{"name":"theme-color","content":"amber"}]],["$","meta",null,{"name":"color-scheme","content":"dark"}],["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta",null,{"name":"creator","content":"Joshua Chapman"}],null,null,null,null,null,null,null,null,null,[]],[["$","link",null,{"rel":"canonical","href":"https://joshuachp.dev/posts/[path]"}],null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[["$","link",null,{"rel":"icon","href":"/favicon.svg","type":"image/svg+xml"}],["$","link",null,{"rel":"icon","href":"/favicon.png","type":"image/png"}],["$","link",null,{"rel":"icon","href":"/favicon.ico","type":"image/x-icon"}]],[],null]]
1:["$L3","$@4"]
5:I{"id":"5376","name":"","chunks":["619:619-24437e98bce37d93","185:app/layout-cca4d60cba48fbee"],"async":false}
6:I{"id":"9299","name":"","chunks":["619:619-24437e98bce37d93","185:app/layout-cca4d60cba48fbee"],"async":false}
7:I{"id":"5019","name":"","chunks":["619:619-24437e98bce37d93","185:app/layout-cca4d60cba48fbee"],"async":false}
8:I{"id":"1300","name":"","chunks":["272:webpack-e24f1f8cbee90348","667:2443530c-65ca4daeaf429502","961:961-069a35a8951442bc"],"async":false}
9:I{"id":"6022","name":"","chunks":["272:webpack-e24f1f8cbee90348","667:2443530c-65ca4daeaf429502","961:961-069a35a8951442bc"],"async":false}
3:["$","html",null,{"lang":"en","children":[["$","head",null,{"children":[["$","$L5",null,{"production":true,"goatCounterApi":"a7d98e3f-b56b"}],["$","script",null,{"id":"dark-theme","dangerouslySetInnerHTML":{"__html":"if(localStorage.theme==='Dark'||((!('theme'in localStorage)||localStorage.theme==='Auto')&&window.matchMedia('(prefers-color-scheme: dark)').matches)){document.documentElement.classList.add('dark')}"}}]]}],["$","body",null,{"className":"bg-primary-50 dark:bg-primary-900","children":["$","$L6",null,{"children":[["$","$L7",null,{}],["$","main",null,{"className":"flex flex-col justify-center p-6 sm:px-12 md:px-24 lg:px-48 xl:px-60 2xl:px-96","children":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":"$undefined","asNotFound":false,"childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":false,"childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children",["path","2023-02-10_gpg_key_rotation","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":false,"childProp":{"current":["$La","$@b"],"segment":"__PAGE__?{\"path\":\"2023-02-10_gpg_key_rotation\"}"}}],"segment":["path","2023-02-10_gpg_key_rotation","d"]}}],"segment":"posts"}}]}]]}]}]]}]
4:[null,null,[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/816f3edd0640ecf0.css","precedence":"next.js"}]]]
c:I{"id":"7876","name":"","chunks":["619:619-24437e98bce37d93","563:app/posts/[path]/page-8b3e90c6f67dc032"],"async":false}
a:["$","article",null,{"className":"flex max-w-full grow flex-col justify-self-start","children":[["$","h1",null,{"className":"mb-4 text-primary-900 dark:text-primary-50 text-4xl font-extrabold tracking-tight sm:text-5xl md:text-6xl","children":[["$","span","1",{"children":"GPG Key Rotation"}]]}],["$","p",null,{"className":"mb-2 text-sm text-primary-900 dark:text-primary-50 sm:text-base xl:text-lg","children":[["$","span","4",{"children":"GPG, or Gnu Privacy Guard, is a widely-used cryptography tool for secure"}],"\r\n",["$","span","6",{"children":"communication, digital signatures, and file encryption. GPG key rotation is the"}],"\r\n",["$","span","8",{"children":"process of changing your primary GPG key, either for security reasons or for"}],"\r\n",["$","span","10",{"children":"changing the encryption algorithm used in your key."}]]}],["$","p",null,{"className":"mb-2 text-sm text-primary-900 dark:text-primary-50 sm:text-base xl:text-lg","children":[["$","span","13",{"children":"In this article, we will go through the steps of GPG key rotation, from"}],"\r\n",["$","span","15",{"children":"generating a new key to updating your configuration files and services."}]]}],["$","h2",null,{"className":"mb-4 text-primary-900 dark:text-primary-50 text-3xl font-bold tracking-tight sm:text-4xl md:text-5xl","children":[["$","span","18",{"children":"Reasons for GPG Key Rotation"}]]}],["$","p",null,{"className":"mb-2 text-sm text-primary-900 dark:text-primary-50 sm:text-base xl:text-lg","children":[["$","span","21",{"children":"There are two main reasons for changing your GPG key:"}]]}],["$","ol",null,{"start":1,"className":"mb-4 mt-2 ml-6 text-primary-900 dark:text-primary-50 text-sm sm:text-base xl:text-lg list-decimal","children":[["$","li","36",{"className":"mb-2","children":[["$","p",null,{"className":"mb-2 text-sm text-primary-900 dark:text-primary-50 sm:text-base xl:text-lg","children":[["$","span","26",{"children":"You want to change the GPG key algorithm: Over time, newer and stronger"}],"\r\n",["$","span","28",{"children":"algorithms may become available and you may want to switch to them for"}],"\r\n",["$","span","30",{"children":"better security. For example, you may want to switch from RSA to ECC"}],"\r\n",["$","span","32",{"children":"(Elliptic Curve Cryptography) which is considered to be more secure and"}],"\r\n",["$","span","34",{"children":"faster."}]]}]]}],["$","li","45",{"className":"mb-2","children":[["$","p",null,{"className":"mb-2 text-sm text-primary-900 dark:text-primary-50 sm:text-base xl:text-lg","children":[["$","span","39",{"children":"Your key has been compromised: If you suspect that your key has been hacked,"}],"\r\n",["$","span","41",{"children":"you may want to change your key to ensure the security of your"}],"\r\n",["$","span","43",{"children":"communication."}]]}]]}]]}],["$","h2",null,{"className":"mb-4 text-primary-900 dark:text-primary-50 text-3xl font-bold tracking-tight sm:text-4xl md:text-5xl","children":[["$","span","48",{"children":"Preparation"}]]}],["$","p",null,{"className":"mb-2 text-sm text-primary-900 dark:text-primary-50 sm:text-base xl:text-lg","children":[["$","span","51",{"children":"Before you start the GPG key rotation process, you should backup your existing"}],"\r\n",["$","span","53",{"children":"key and any associated subkeys. This will allow you to restore your key if"}],"\r\n",["$","span","55",{"children":"something goes wrong during the process."}]]}],["$","p",null,{"className":"mb-2 text-sm text-primary-900 dark:text-primary-50 sm:text-base xl:text-lg","children":[["$","span","58",{"children":"If you use a smartcard for key storage, you should perform the following"}],"\r\n",["$","span","60",{"children":"additional steps:"}]]}],["$","ol",null,{"start":1,"className":"mb-4 mt-2 ml-6 text-primary-900 dark:text-primary-50 text-sm sm:text-base xl:text-lg list-decimal","children":[["$","li","68",{"className":"mb-2","children":[["$","span","64",{"children":"Create a temporary directory:"}],["$","$Lc","67",{"language":"sh","className":"mb-4 mt-2","children":[["$","span","66",{"children":"cd $(mkdir -d)\n"}]]}]]}],["$","li","74",{"className":"mb-2","children":[["$","span","70",{"children":"Create a GPG home directory:"}],["$","$Lc","73",{"language":"sh","className":"mb-4 mt-2","children":[["$","span","72",{"children":"mkdir gnupg\n"}]]}]]}],["$","li","80",{"className":"mb-2","children":[["$","span","76",{"children":"Export the GPG home environment variable:"}],["$","$Lc","79",{"language":"sh","className":"mb-4 mt-2","children":[["$","span","78",{"children":"export GNUPGHOME=$(pwd)/gnupg\n"}]]}]]}],["$","li","86",{"className":"mb-2","children":[["$","span","82",{"children":"Import the existing key backups:"}],["$","$Lc","85",{"language":"sh","className":"mb-4 mt-2","children":[["$","span","84",{"children":"gpg --import private.asc\n"}]]}]]}]]}],["$","p",null,{"className":"mb-2 text-sm text-primary-900 dark:text-primary-50 sm:text-base xl:text-lg","children":[["$","span","89",{"children":"This will create a place where you can generate the new keys without"}],"\r\n",["$","span","91",{"children":"interfering with your existing key."}]]}],["$","h2",null,{"className":"mb-4 text-primary-900 dark:text-primary-50 text-3xl font-bold tracking-tight sm:text-4xl md:text-5xl","children":[["$","span","94",{"children":"Generating a New GPG Key"}]]}],["$","p",null,{"className":"mb-2 text-sm text-primary-900 dark:text-primary-50 sm:text-base xl:text-lg","children":[["$","span","97",{"children":"Once you have prepared your environment, you can start generating a new GPG"}],"\r\n",["$","span","99",{"children":"key. Here are the steps:"}]]}],["$","ol",null,{"start":1,"className":"mb-4 mt-2 ml-6 text-primary-900 dark:text-primary-50 text-sm sm:text-base xl:text-lg list-decimal","children":[["$","li","107",{"className":"mb-2","children":[["$","span","103",{"children":"Run the following command to generate a new GPG key:"}],["$","$Lc","106",{"language":"sh","className":"mb-4 mt-2","children":[["$","span","105",{"children":"gpg --full-key-generate\n"}]]}]]}],["$","li","110",{"className":"mb-2","children":[["$","span","109",{"children":"Select your desired algorithm, for example, ECC."}]]}],["$","li","132",{"className":"mb-2","children":[["$","span","112",{"children":"Set an expiration date for the keys. It is recommended to set a reasonable"}],"\r\n",["$","span","114",{"children":"expiration date, such as one or two years, after which you can renew the key"}],"\r\n",["$","span","116",{"children":"by extending the expiration date."}],["$","ol",null,{"start":1,"className":"mb-4 mt-2 ml-6 text-primary-900 dark:text-primary-50 text-sm sm:text-base xl:text-lg list-decimal","children":[["$","li","122",{"className":"mb-2","children":[["$","span","119",{"children":"Add your User IDs (UIDs) and any desired subkeys, such as an"}],"\r\n",["$","span","121",{"children":"authentication key."}]]}],["$","li","130",{"className":"mb-2","children":[["$","span","124",{"children":"Edit the key to set the trust to ultimate and use the "}],["$","code",null,{"className":" items-baseline rounded bg-primary-200 p-0.5 text-sm dark:bg-primary-700 sm:p-1 sm:text-base xl:text-lg","children":"sign <old key id>"}],"\r\n",["$","span","127",{"children":"command to sign the new key. This step is crucial in the rotation"}],"\r\n",["$","span","129",{"children":"process, as it will allow you to use the new key instead of the old one."}]]}]]}]]}]]}],["$","h2",null,{"className":"mb-4 text-primary-900 dark:text-primary-50 text-3xl font-bold tracking-tight sm:text-4xl md:text-5xl","children":[["$","span","135",{"children":"Backup and Revocation"}]]}],["$","p",null,{"className":"mb-2 text-sm text-primary-900 dark:text-primary-50 sm:text-base xl:text-lg","children":[["$","span","138",{"children":"After you have generated the new key, you should perform the following steps to"}],"\r\n",["$","span","140",{"children":"ensure the safety and continuity of your communication:"}]]}],["$","ol",null,{"start":1,"className":"mb-4 mt-2 ml-6 text-primary-900 dark:text-primary-50 text-sm sm:text-base xl:text-lg list-decimal","children":[["$","li","147",{"className":"mb-2","children":[["$","span","144",{"children":"Backup the new and old keys, along with the revocation certificates (which"}],"\r\n",["$","span","146",{"children":"are automatically generated by GPG 2.1)."}]]}],["$","li","150",{"className":"mb-2","children":[["$","span","149",{"children":"Revoke the old key and make a separate backup for the revoked key."}]]}],["$","li","158",{"className":"mb-2","children":[["$","span","152",{"children":"Upload the new and revoked keys to the keyservers with the following"}],"\r\n",["$","span","154",{"children":"command:"}],["$","$Lc","157",{"language":"sh","className":"mb-4 mt-2","children":[["$","span","156",{"children":"gpg --send-keys <old> <new>\n"}]]}]]}]]}],["$","p",null,{"className":"mb-2 text-sm text-primary-900 dark:text-primary-50 sm:text-base xl:text-lg","children":[["$","span","161",{"children":"Remember to verify any new email on the keyserver."}]]}],["$","h2",null,{"className":"mb-4 text-primary-900 dark:text-primary-50 text-3xl font-bold tracking-tight sm:text-4xl md:text-5xl","children":[["$","span","164",{"children":"Conclusion"}]]}],["$","p",null,{"className":"mb-2 text-sm text-primary-900 dark:text-primary-50 sm:text-base xl:text-lg","children":[["$","span","167",{"children":"In conclusion, rotating your GPG key can seem like a daunting task, but with"}],"\r\n",["$","span","169",{"children":"these step-by-step instructions, the process is straightforward and easy to"}],"\r\n",["$","span","171",{"children":"follow. Whether you want to switch to a different algorithm or your key has"}],"\r\n",["$","span","173",{"children":"been compromised, these instructions will guide you through the process of"}],"\r\n",["$","span","175",{"children":"creating a new key and revoking the old one. By following these steps, you can"}],"\r\n",["$","span","177",{"children":"ensure that your communication remains secure and private. So, don"}],["$","span","178",{"children":"’"}],["$","span","179",{"children":"t be"}],"\r\n",["$","span","181",{"children":"intimidated by the thought of key rotation and take the time to follow these"}],"\r\n",["$","span","183",{"children":"steps."}]]}]]}]
b:[null,null,[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/2a1840b1c557e13c.css","precedence":"next.js"}]]]
